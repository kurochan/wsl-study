# Java勉強会#1

## FizzBuzzを書いてみよう
1から100までの数を出力する。  
ただし、3の倍数の場合はFizz, 5の倍数の場合はBuzzと出力する。

## そもそもJavaって何だ？
Java Day Tokyo2013の基調講演資料
> http://otndnld.oracle.co.jp/ondemand/javaday/L-1.pdf

### Javaってどんな言語？
Javaの精神

> "Write once, run anywhere"

Java Day Tokyo2013の初心者向けセッション

> http://otndnld.oracle.co.jp/ondemand/javaday/J-4.pdf

###  Javaのコミュニティ
日本Javaユーザーグループ

> http://www.java-users.jp/

###  中間言語
#### バイトコードをのぞいてみる？

```sh
$ od HelloWorld.class
$ od -c HelloWorld.class
```

#### デコンパイルしてみよう！

```sh
$ javap -c -l -v HelloWorld
```

### VM

#### クラスロードの様子を見てみる

```sh
$ java -verbose:class HelloWorld
```

#### 最適化がある時 / ない時
ない時

```sh
$ java -Xint [クラス名]
```

ある時

```sh
$ java [クラス名]
```

### セキュリティ
### Androidはどうなってる？
Androidのアーキテクチャ(日本Android友の会資料)  

> http://www.android-group.jp/index.php?plugin=attach&pcmd=open&file=RIA-Android.pdf&refer=%B5%BB%BD%D1%BB%F1%CE%C1

### GC
ガーベジコレクションの略。  
使用しなくなったオブジェクトの開放を自動でやってくれる。  
プログラマが明示的にメモリの確保や開放といった処理を記述しなくてよい。  
メモリリークを回避できる。

#### アルゴリズム
* 参照カウンタ
    * 循環参照の問題がある(Weak Referenceによる解決方法もある)
* マーク・アンド・スイープ
    * 保守的なGCと呼ばれる
* コピーGC
    * メモリサイズが使う量の2倍必要
    * コンパクションも一緒にできる
* 世代別GC
* Stop the World / Concurrent

#### GCの様子を見てみる

```sh
$ java -verbose:gc [クラス名]
```

### Javaって万能なの？
#### Rubyと比較してみよう！


## 基本文法
### 教本を読んでみよう
「やさしいJava」を例に

* mainメソッド
* 標準出力
* トークン
    * リテラル, キーワード, 識別子, 演算子, 区切り子
    * http://ja.wikipedia.org/wiki/%E3%82%AD%E3%83%BC%E3%83%AF%E3%83%BC%E3%83%89_(Java)
* 標準入力
* エスケープシーケンス
* 変数の宣言 `型名 識別子;`
* 変数代入 `変数名 = 式;`
* 演算子 `(), [], ., ++, --, !, ~, +, -, new, *, /, %, <<, >>, >>>, >, >=, <, <=, instanceof, ==, !=, &, ^, |, &&, ? :, =`
* 条件分岐
    * if, switch
* 繰り返し
    * for, while, do-while
* 配列
* クラス, オブジェクト
* メンバ変数, メソッド
* アクセス制限
* インターフェース
* 例外
* スレッド

### 拡張for文
for文のシンタックスシュガー

```java
for(Object obj : array) {
    System.out.println(obj);
}
```

### オートボクシング
暗黙的な型変換。この機能により、明示的に書かなくても分かるような型変換を記述しなくてよくなった。  
ただし、これを知らないとハマりどころもある。

### 一応日本語使えるよ
日本語プログラミングの例  
https://gist.github.com/kurochan/1164946  
ここからわかるように、変数やクラス名といったものに日本語(マルチバイト文字)を用いるのは適切ではない。


## デバッグのしかた
* eclipseを例にとって


## オブジェクト指向
### すべてのオブジェクトはオブジェクト型を継承している

### 型システム
### オブジェクトクラス
### シャローコピーとディープコピー
知らないとハマりますよ  
http://kurochan-note.hatenablog.jp/entry/20110316/1300267023

### 無名クラス
コンパレータの例


## オーバーライドとオーバーロード
### できると何がいいの？


## インターフェイス
### 多重継承ができる

### 引数と戻り値はインターフェイスとして実装するべき
クラスを引数 / 戻り値にした時の問題点

### インターフェイスには名前空間がない
メソッド名を作るときに気をつけなければいけない


## シリアライズ
文字やバイトデータの入出力以外に、オブジェクトの入出力を行う。オブジェクトをネットワーク等を経由して直接転送出来る。

## パッケージ
### 名前空間
パッケージという概念がある事で、名前空間という概念を作る事ができる。
### なぜパッケージ名はドメイン名なのか
歴史的な経緯がある。  


## 例外
悪いことは起こりうる、例え良いプログラムであっても。
### 暗黒面
RuntimeExceptionはいつでも投げられる。 
RuntimeExceptionのサブクラスを投げるプログラムを設計してはいけない。


## デザインパターン
クラス等の構造のデザインのベストプラクティス。実現したい構造に合わせたデザインパターンを選ぶ。

### ゲッターとセッター
メンバ変数をprivateにして、外部から隠蔽した上で、変数の代入と取得をメソッド経由で行う。  
→書き込み / 読み込みの制限をしたり、フックすることが出来る。

### シングルトン
一度生成したオブジェクトを複数のオブジェクトで使いまわす。


## 並列プログラミング
### なぜ並列化したいのか
並列化することで、複数の処理を同時に処理することができる。

### 副作用のある関数とない関数
副作用のある関数は基本的に並列なプログラムには向かない。

### 排他制御
デッドロックを防いで、複数スレッド / プロセス間のリソース利用を制御する仕組み。
#### デッドロックって？


## 標準ライブラリ
### StringBuilder / StringBuffer

### Scanner

### データ構造

#### 配列
* 最低限絶対必要

#### List系
* ArrayList
* LinkedList

#### Set系
* HashSet
* LinkedHashSet
* TreeSet

#### Map系
* HashMap
* LinkedHashMap
* TreeMap

#### Stack
* = List

#### Queue
* LinkedList

#### Synchronized〜
* Collections.synchronizedList
* Collections.synchronizedSet
* Collections.synchronizedMap


## 外部ライブラリ
### twitter4jの紹介


##  <del>JavaリフレクションAPI</del>
最初は知る必要ないかも  
ダーティーハックになりやすい。


## Javadocの読み方
困ったらこれを読みましょう。意外と知らないことけっこうある。

> http://docs.oracle.com/javase/jp/6/api/


## サーブレット
### tomcat


## 分散処理
> http://otndnld.oracle.co.jp/ondemand/javaday/C-4.pdf

### Hadoopの紹介(配達先輩に喋ってもらう？)


## コーディング技術
ただひたすら書いてるだけだと…

* あとで読み返した時にどんな処理をしているかわからない
* バグを起こしやすい

### 300行→1,000行→10,000行

### コメント
ソースコードを読んだ時の理解の助けとするために書く。 
**何をしているのか**は書かない。**なぜそうするのか**を書く。  
**何をしているのかコメントを書かないと分からないコードはリファクタリングすべきである。**

### リファクタリング

### コーディング規約, コーディングスタイル
Java コーディング規約

> http://numata.designed.jp/javacodeconv/

### ペアプロ
ペアプログラミング。2人一組でコーディングを行う。


## テスト
実装したコードが正しいかどうかは、テストをするしかない。

### ソースコードの信頼性について
自分で適当に試してみて、それっぽく動いたらOK？  
→これはきっとうまくいかない。そこで、テストフレームワークを用いる。

### JUnit
Javaで用いられるユニットテストフレームワーク。

### カバレッジ計測
カバレッジを計測することで、テストがどの程度網羅されているのかが分かる。

### テストによるモチベーションの維持
テストは、実装が正しいかどうかを確かめるだけではなく、モチベーションの維持にもつながる。

#### 個人で開発する時と、チームでプロジェクトとしてやるときのモチベーションの違い
* 個人  : 作りたいものが作れた！
* チーム: チームとして開発が進んだ！
    * チーム開発では、一人で何かを作るわけではないから、進捗がわからないとモチベーションにつながらない。


## 開発手法について
### TDD
Test Driven Development

## バージョン管理
複数人開発では必須


## テーマを設けてプログラムを作ってみる
### 文章を自動生成するプログラムを作ってみる

>
* https://twitter.com/asshuku
* https://twitter.com/shuumai

### 用意されたJavadocに沿って実装してみる？
